<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{fragments/fragments :: head}">
</head>
<body>
	<header th:insert="~{fragments/fragments :: navbar}">
		
	</header>
    
	<main class="container">
		<div class="row">
			<div class="col-12">	
				
				<th:block th:if="${pizze.size() > 0}">
					<h1 class="py-4 mb-2 text-center">
						Lista delle Pizze
					</h1>	
								<form th:action="@{/pizze/search}" method="GET" class="col-8">
										<div class="form-group my-3 row">
											<div class="col-8">
												<input name="name" type="text" class="form-control" id="name-input"
													placeholder="cerca pizze per nome">
											</div>
											<div class="col-4 ps-0">
												<button type="submit" class="btn btn-success">Cerca Pizze</button>
											</div>
										</div>
								</form>
					<table class="table table-striped table-hover mt-2">
										<thead>
											<tr>
												<th>Nome</th>
												<th>Descrizione</th>
												<th>Creata il</th>
												<th class="text-center">Prezzo</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="pizza : ${pizze}">
												<td th:text="${pizza.name}" class="fs-3"></td>
												<td th:text="${pizza.description}" class="pt-3"></td>
												<td th:text="${pizza.createdAt}"></td>
												<td th:text="${pizza.price}" class="fw-bold text-center pt-3"></td>
												<td class="text-center">
													<a class="btn btn-sm btn-success m-1"
														th:href="@{'/pizze/show/{id}'(id=${pizza.id})}"
														role="button">Dettagli</a>
													<a class="btn btn-sm btn-warning m-1"
														th:href="@{'http://localhost:8080/pizzas/edit/{id}'(id=${pizza.id})}"
														role="button">Modifica</a>  
													<!-- Button trigger modal 
													<button type="button" class="btn btn-sm btn-danger m-1" data-bs-toggle="modal"
														th:data-bs-target="'#delete-' + ${pizza.id}">
														Cancella
													</button> -->
													
													
													</div>
												</td>
											</tr>
										</tbody>
					
				</th:block>	
				
				<!--
				<th:block th:unless="${pizze.size() > 0}">
					<h3 class="py-5 text-center">
						No pizza has been found with query <strong>[[ ${pizzaName} ]]</strong>
					</h3>
				</th:block>
				               -->
			</div>	
		</div>
		
	</main>
	
	<footer th:replace="~{fragments/fragments :: footer}"></footer>
</body>
</html>
